<main
  class="w-screen h-screen bg-zinc-300 flex justify-center items-center border-r-4"
>
  <section class="w-2/5 bg-zinc-50 rounded-xl p-4">
    <img src="../../../assets/sukuna.png" class="w-1/4 mx-auto" alt="" />

    <article *ngIf="login">
      <form [formGroup]="loginForm" (ngSubmit)="submitLogin()">
        <div class="form-group">
          <label for="email">E-mail</label>
          <input
            placeholder="Digite seu E-mail"
            formControlName="email"
            type="email"
          />
          <div>
            <p
              class="mx-1 px-0 mt-1 text-red-500"
              *ngIf="
                loginForm.controls.email.dirty &&
                !loginForm.controls.email.value
              "
            >
              E-mail inválido!
            </p>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Senha</label>
          <input
            placeholder="Digite sua Senha"
            formControlName="password"
            type="password"
          />
          <div>
            <p
              class="mx-1 px-0 mt-1 text-red-500"
              *ngIf="
                loginForm.controls.password.dirty &&
                !loginForm.controls.password.value
              "
            >
              Insira uma senha válida!
            </p>
          </div>
        </div>

        <div class="flex flex-wrap gap-y-3 justify-around">
          <button class="btn btn-primary w-full hover:bg-blue-900" type="submit">
            Entrar
          </button>

          <button
            class="btn w-full bg-orange-500 hover:bg-orange-700"
            type="button"
            (click)="switchToLogin('cadastro')"
          >
            Cadastrar
          </button>
        </div>
      </form>
    </article>

    <article *ngIf="!login">
      <form [formGroup]="cadastroForm" (ngSubmit)="submitCadastro()">
        <div class="form-group">
          <label for="name">Nome</label>
          <input
            placeholder="Digite seu Nome"
            formControlName="name"
            type="text"
          />
          <div>
            <p
              class="mx-1 px-0 mt-1 text-red-500"
              *ngIf="
                cadastroForm.controls.name.dirty &&
                !cadastroForm.controls.name.value || 
                cadastroForm.controls.name.touched &&
                !cadastroForm.controls.name.value 
              "
            >
              Nome inválido!
            </p>
          </div>
        </div>

        <div class="form-group">
          <label for="email">E-mail</label>
          <input
            placeholder="Digite seu E-mail"
            formControlName="email"
            type="email"
          />
          <div>
            <p
              class="mx-1 px-0 mt-1 text-red-500"
              *ngIf="
                cadastroForm.controls.email.dirty &&
                !cadastroForm.controls.email.value
              "
            >
              E-mail inválido!
            </p>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Senha</label>
          <input
            placeholder="Digite sua Senha"
            formControlName="password"
            type="password"
          />
          <div>
            <p
              class="mx-1 px-0 mt-1 text-red-500"
              *ngIf="
                cadastroForm.controls.password.dirty &&
                !cadastroForm.controls.password.value
              "
            >
              Insira uma senha válida!
            </p>
            <p
              class="mx-1 px-0 mt-1 text-red-500"
              *ngIf="
                cadastroForm.controls.password.dirty &&
                cadastroForm.controls.password.value && 
                cadastroForm.controls.password.value.length < 5
              "
            >
              Sua senha deve conter no mínimo 5 dígitos!
            </p>
          </div>
        </div>

        <div class="">
          <button class="btn btn-primary w-full hover:bg-blue-900" type="submit">
            Cadastrar
          </button>

          <p class="text-center my-2">ou</p>

          <p
            class="text-center text-orange-500 hover:text-orange-700 font-bold text-base     cursor-pointer"
            (click)="switchToLogin('login')"
          >
            Já possuo conta!
          </p>
        </div>
      </form>
    </article>
  </section>
</main>
